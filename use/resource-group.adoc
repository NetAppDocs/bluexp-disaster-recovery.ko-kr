---
sidebar: sidebar 
permalink: use/resource-group.html 
keywords: disaster recovery, bluexp disaster recovery, failover, failback, replicate, fail over, fail back, vmware, vcenter, replication plan, protection, disaster, recovery, virtual machines, vm 
summary: NetApp BlueXP 재해 복구 서비스는 재해 복구 워크플로우를 자동화하는 클라우드 기반 재해 복구 서비스입니다. vCenter 사이트를 추가한 후에는 재해 복구 또는 복제 계획을 생성할 수 있습니다. 
---
= BlueXP 재해 복구에서 VM을 함께 구성하기 위한 리소스 그룹을 만듭니다.
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/use/


[role="lead"]
vCenter 사이트를 추가한 후에는 VM을 VM 또는 데이터 저장소별로 그룹화하는 리소스 그룹을 생성할 수 있습니다. 리소스 그룹을 사용하면 종속 VM의 집합을 요구 사항을 충족하는 논리 그룹으로 구성할 수 있습니다. 예를 들어, 하나의 애플리케이션에 연결된 VM을 그룹화하거나 유사한 계층이 있는 애플리케이션을 그룹화할 수 있습니다. 또 다른 예로 그룹은 복구 시 실행할 수 있는 지연된 부팅 순서를 포함할 수 있습니다.

VM 자체 또는 데이터 저장소의 VM을 그룹화할 수 있습니다.

다음 방법을 사용하여 리소스 그룹을 만들 수 있습니다.

* 자원 그룹 탭에서
* 재해 복구 또는 _ 복제 계획을 생성하는 동안 _. 소스 vCenter 클러스터에서 호스팅하는 VM이 많은 경우 복제 계획을 생성하는 동안 리소스 그룹을 생성하는 것이 더 쉬울 수 있습니다. 복제 계획을 생성하는 동안 리소스 그룹을 생성하는 방법에 대한 지침은 을 참조하십시오link:drplan-create.html["복제 계획을 생성합니다"].



TIP: 각 리소스 그룹에는 하나 이상의 VM 또는 데이터 저장소가 포함될 수 있습니다. VM은 복제 계획에 VM을 포함하는 순서에 따라 전원이 켜집니다. VM 또는 데이터 저장소를 리소스 그룹 목록에서 위 또는 아래로 끌어 순서를 변경할 수 있습니다.

.자원 그룹 정보
리소스 그룹을 사용하면 운영 관련 VM이 포함되어 있고 단일 유닛으로 보호해야 하는 VM 또는 데이터 저장소를 결합할 수 있습니다.

예를 들어 POS 애플리케이션은 여러 VM 호스팅 데이터베이스, 비즈니스 논리 규칙 관리를 호스팅하는 여러 VM, 웹 서버 기반 스토어프론트 역할을 하는 여러 VM으로 구성될 수 있습니다. 이러한 VM을 단일 리소스 그룹에 배치하여 단일 보호 프로세스로 전체 애플리케이션의 가용성을 관리하는 것이 유용할 수 있습니다.

리소스 그룹을 설정하면 적절한 VM 시작 순서, 네트워크 연결 등에 대한 복제 계획 규칙을 적용하여 애플리케이션에 필요한 모든 VM을 적절하게 복구할 수 있습니다.

.그러한 목표가 제대로 달성될까요?
BlueXP  재해 복구 기능은 리소스 그룹에서 VM을 호스팅하는 기본 ONTAP 볼륨 및 LUN을 복제하여 VM을 보호합니다. 이를 위해 시스템은 리소스 그룹에서 VM을 호스팅하는 각 데이터 저장소의 이름을 vCenter에 쿼리합니다. 그런 다음 BlueXP  재해 복구를 통해 소스 ONTAP 볼륨 또는 해당 데이터 저장소를 호스팅하는 LUN을 식별합니다. 모든 보호는 ONTAP 볼륨 레벨에서 SnapMirror 복제를 사용하여 수행됩니다.

리소스 그룹의 VM이 서로 다른 데이터 저장소에 호스팅되는 경우 BlueXP  재해 복구에서는 다음 방법 중 하나를 사용하여 ONTAP 볼륨 또는 LUN의 데이터 정합성이 보장되는 스냅샷을 생성합니다.

[cols="30,65a"]
|===
| FlexVol 볼륨의 상대적 위치 | 스냅샷 복제 프로세스입니다 


| 여러 데이터 저장소 - FlexVol 볼륨이 * 동일한 SVM * 에 있습니다  a| 
* ONTAP 정합성 보장 그룹이 생성되었습니다
* 생성된 정합성 보장 그룹의 스냅샷입니다
* 볼륨 범위 SnapMirror 복제가 수행되었습니다




| 여러 데이터 저장소 - 여러 SVM * 의 FlexVol 볼륨  a| 
* ONTAP API `cg_start`: 스냅샷을 생성할 수 있도록 모든 볼륨을 종료하고 모든 리소스 그룹 볼륨의 볼륨 범위 스냅샷을 시작합니다.
* ONTAP API `cg_end`: 모든 볼륨에서 입출력을 재개하고 스냅샷이 생성된 후 볼륨 범위 SnapMirror 복제를 활성화합니다.


|===
자원 그룹을 만들 때는 다음과 같은 문제를 고려하십시오.

* 리소스 그룹에 데이터 저장소를 추가하기 전에 먼저 수동 검색 또는 예약된 VM 검색을 시작합니다. 이렇게 하면 VM이 검색되고 리소스 그룹에 나열됩니다. 수동 검색을 트리거하지 않으면 VM이 리소스 그룹에 나열되지 않을 수 있습니다.
* 데이터 저장소에 하나 이상의 VM이 있는지 확인합니다. 데이터 저장소에 VM이 없으면 데이터 저장소가 검색되지 않습니다.
* 단일 데이터 저장소는 둘 이상의 복제 계획으로 보호되는 VM을 호스팅해서는 안 됩니다.
* 보호된 VM과 보호되지 않은 VM을 동일한 데이터 저장소에 호스팅하지 마십시오. 보호된 VM과 보호되지 않는 VM이 동일한 데이터 저장소에 호스팅되는 경우 다음과 같은 문제가 발생할 수 있습니다.
+
** BlueXP  재해 복구는 SnapMirror를 사용하고 시스템은 전체 ONTAP 볼륨을 복제하므로 해당 볼륨의 사용된 용량이 라이센스 고려 사항에 사용됩니다. 이 경우 보호된 VM과 보호되지 않은 VM 모두에서 사용되는 볼륨 공간이 이 계산에 포함됩니다.
** 리소스 그룹 및 관련 데이터 저장소를 재해 복구 사이트로 페일오버해야 하는 경우 보호되지 않는 VM(리소스 그룹에 속하지 않지만 ONTAP 볼륨에서 호스팅됨)이 페일오버 프로세스에서 소스 사이트에 더 이상 존재하지 않아 소스 사이트에서 보호되지 않는 VM에 장애가 발생합니다. 또한 BlueXP  재해 복구는 페일오버 vCenter 사이트에서 보호되지 않는 VM을 시작하지 않습니다.


* VM을 보호하려면 VM을 리소스 그룹에 포함해야 합니다.


* 모범 사례 *: BlueXP  재해 복구를 배포하기 전에 VM을 구성하여 "데이터 저장소 스프롤"을 최소화합니다. 보호가 필요한 VM을 데이터 저장소의 하위 집합에 배치하고 보호되지 않는 VM을 데이터 저장소의 다른 하위 집합에 배치합니다. 지정된 데이터 저장소의 VM이 서로 다른 복제 계획에 의해 보호되지 않는지 확인합니다.

.단계
. BlueXP  재해 복구 메뉴에서 * 리소스 그룹 * 을 선택합니다.
. 추가 * 를 선택합니다.
. 자원 그룹의 이름을 입력합니다.
. VM이 있는 소스 vCenter 클러스터를 선택합니다.
. 원하는 검색 방법에 따라 * 가상 머신 * 또는 * 데이터 저장소 * 를 선택합니다.
. Add resource groups * 탭을 선택합니다. 선택한 vCenter 클러스터에 있는 모든 데이터 저장소 또는 VM이 나열됩니다. Datastores * 를 선택한 경우 선택한 vCenter 클러스터의 모든 데이터 저장소가 나열됩니다. 가상 머신 * 을 선택한 경우 선택한 vCenter 클러스터의 모든 VM이 나열됩니다.
. 리소스 그룹 추가 페이지의 왼쪽에서 보호할 VM을 선택합니다.
+
image:dr-resource-groups-add.png["리소스 그룹 추가 페이지를 보여 주는 스크린샷"]

+
image:dr-resource-groups-datastores-add.png["리소스 그룹 추가 페이지를 보여 주는 스크린샷"]

. 필요에 따라 각 VM을 목록에서 위 또는 아래로 끌어 오른쪽에서 VM 순서를 변경합니다. VM은 VM을 포함하는 순서에 따라 전원이 켜집니다.
. 추가 * 를 선택합니다.

